{"ast":null,"code":"import _slicedToArray from\"/home/rexweb/React/wheather-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{fetchWeather}from'./actions/fetchWeather';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),toggle=_useState2[0],setToggle=_useState2[1];//set city\nvar _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),city=_useState4[0],setCity=_useState4[1];var weatherSelector=useSelector(function(state){return state.weatherInfo;});var getweatherInfoAction=function getweatherInfoAction(city){return dispatch(fetchWeather(city));};useEffect(function(){getweatherInfoAction(city);},[city]);var getweatherInfo=function getweatherInfo(e){e.preventDefault();if(city===\"\"){console.log(\"No city to search\");}else{getweatherInfoAction(city);setToggle(true);console.log(\"weatherSelector\",weatherSelector);}};var details=\"\";if(weatherSelector&&toggle){details=/*#__PURE__*/_jsxs(\"div\",{className:\"deatils\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Weather Details\"}),/*#__PURE__*/_jsxs(\"p\",{children:[weatherSelector.name,/*#__PURE__*/_jsx(\"span\",{children:weatherSelector.sys.country})]}),/*#__PURE__*/_jsxs(\"p\",{children:[weatherSelector.main.temp,\"\\xB0F\"]}),/*#__PURE__*/_jsx(\"img\",{src:weatherSelector.weather[0].icon}),/*#__PURE__*/_jsx(\"p\",{children:weatherSelector.weather[0].main})]});}else{details=/*#__PURE__*/_jsx(\"p\",{children:\"You need to type a city\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Wheather-App\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:getweatherInfo,children:[/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",onChange:function onChange(e){return setCity(e.target.value);},placeholder:\"Enter the city to check weather\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Check Weather\"})]}),details]});}export default App;","map":{"version":3,"sources":["/home/rexweb/React/wheather-app/src/App.js"],"names":["React","useState","useEffect","useSelector","useDispatch","fetchWeather","App","dispatch","toggle","setToggle","city","setCity","weatherSelector","state","weatherInfo","getweatherInfoAction","getweatherInfo","e","preventDefault","console","log","details","name","sys","country","main","temp","weather","icon","target","value"],"mappings":"sJAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,OAAQC,WAAR,CAAqBC,WAArB,KAAuC,aAAvC,CACA,OAAQC,YAAR,KAA2B,wBAA3B,C,wFAEA,QAASC,CAAAA,GAAT,EAAe,CACb,GAAMC,CAAAA,QAAQ,CAAGH,WAAW,EAA5B,CADa,cAEeH,QAAQ,CAAC,KAAD,CAFvB,wCAENO,MAFM,eAEEC,SAFF,eAIb;AAJa,eAKWR,QAAQ,CAAC,EAAD,CALnB,yCAKNS,IALM,eAKAC,OALA,eAOb,GAAMC,CAAAA,eAAe,CAAGT,WAAW,CAAC,SAACU,KAAD,QAAUA,CAAAA,KAAK,CAACC,WAAhB,EAAD,CAAnC,CACA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACL,IAAD,QAAUH,CAAAA,QAAQ,CAACF,YAAY,CAACK,IAAD,CAAb,CAAlB,EAA7B,CAEAR,SAAS,CAAC,UAAM,CACZa,oBAAoB,CAACL,IAAD,CAApB,CACH,CAFQ,CAEP,CAACA,IAAD,CAFO,CAAT,CAIA,GAAMM,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,CAAD,CAAM,CAC3BA,CAAC,CAACC,cAAF,GACA,GAAGR,IAAI,GAAK,EAAZ,CAAe,CACbS,OAAO,CAACC,GAAR,CAAY,mBAAZ,EACD,CAFD,IAGI,CACFL,oBAAoB,CAACL,IAAD,CAApB,CACAD,SAAS,CAAC,IAAD,CAAT,CACAU,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA8BR,eAA9B,EACD,CACF,CAVD,CAYA,GAAIS,CAAAA,OAAO,CAAG,EAAd,CACA,GAAGT,eAAe,EAAIJ,MAAtB,CAA6B,CAC3Ba,OAAO,cAAG,aAAK,SAAS,CAAG,SAAjB,wBACR,uCADQ,cAER,qBACGT,eAAe,CAACU,IADnB,cAEI,sBACCV,eAAe,CAACW,GAAhB,CAAoBC,OADrB,EAFJ,GAFQ,cAQR,qBAAIZ,eAAe,CAACa,IAAhB,CAAqBC,IAAzB,WARQ,cASR,YAAK,GAAG,CAAEd,eAAe,CAACe,OAAhB,CAAwB,CAAxB,EAA2BC,IAArC,EATQ,cAUR,mBAAIhB,eAAe,CAACe,OAAhB,CAAwB,CAAxB,EAA2BF,IAA/B,EAVQ,GAAV,CAYD,CAbD,IAaK,CACHJ,OAAO,cAAG,8CAAV,CACD,CAED,mBACE,aAAK,SAAS,CAAC,KAAf,wBACE,oCADF,cAEE,cAAM,QAAQ,CAAEL,cAAhB,wBACE,YAAK,SAAS,CAAC,SAAf,uBACE,cAAO,IAAI,CAAE,MAAb,CAAoB,IAAI,CAAC,MAAzB,CAAgC,QAAQ,CAAE,kBAAAC,CAAC,QAAIN,CAAAA,OAAO,CAACM,CAAC,CAACY,MAAF,CAASC,KAAV,CAAX,EAA3C,CAAwE,WAAW,CAAC,iCAApF,EADF,EADF,cAGQ,aAHR,cAIE,cAAO,IAAI,CAAE,QAAb,CAAsB,KAAK,CAAC,eAA5B,EAJF,GAFF,CAQGT,OARH,GADF,CAYD,CAED,cAAef,CAAAA,GAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {fetchWeather} from './actions/fetchWeather';\n\nfunction App() {\n  const dispatch = useDispatch();\n  const [toggle, setToggle] = useState(false)\n  \n  //set city\n  const [city, setCity] = useState(\"\")\n\n  const weatherSelector = useSelector((state)=> state.weatherInfo)\n  const getweatherInfoAction = (city) => dispatch(fetchWeather(city))\n\n  useEffect(() => {\n      getweatherInfoAction(city)\n  },[city])\n\n  const getweatherInfo = (e) =>{\n    e.preventDefault();\n    if(city === \"\"){\n      console.log(\"No city to search\")\n    }\n    else{\n      getweatherInfoAction(city)\n      setToggle(true)\n      console.log(\"weatherSelector\",weatherSelector)\n    }\n  }\n\n  let details = \"\";\n  if(weatherSelector && toggle){\n    details = <div className = \"deatils\" >\n      <h1>Weather Details</h1>\n      <p>\n        {weatherSelector.name}\n          <span >\n          {weatherSelector.sys.country}\n        </span>\n      </p>\n      <p>{weatherSelector.main.temp}Â°F</p>\n      <img src={weatherSelector.weather[0].icon}/>\n      <p>{weatherSelector.weather[0].main}</p>\n    </div>\n  }else{\n    details = <p>You need to type a city</p>\n  }\n\n  return (\n    <div className=\"App\" >\n      <h1>Wheather-App</h1>\n      <form onSubmit={getweatherInfo}>\n        <div className=\"control\">\n          <input type =\"text\" name=\"name\" onChange={e => setCity(e.target.value)} placeholder=\"Enter the city to check weather\"/>\n        </div><br></br>\n        <input type =\"submit\" value=\"Check Weather\"/>\n      </form>\n      {details}\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}